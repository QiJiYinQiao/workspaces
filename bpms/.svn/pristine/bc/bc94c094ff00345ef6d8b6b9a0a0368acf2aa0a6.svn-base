<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>投资订单</title>
</head>
<script type="text/javascript">
$(function(){
	createInvestOrderGrid1();
});
function createInvestOrderGrid1(){
	$("#investOrderGrid1").datagrid({
		url:'investOrder/investOrderAction!findInvestOrderListByOrderStatus.action',
		width: 'auto',
		height: 461,
		pagination:false,
		rownumbers:true,
		border:true,
		singleSelect:false,
		nowrap:true,//如果为true，则在同一行中显示数据。设置为true可以提高加载性能。
		pageSize:30,
		pageList:[10,20,30,40],
		remoteSort:false,//定义是否从服务器对数据进行排序。
		striped:true,//是否显示斑马线
		columns:[[
		        {field : 'investorName',title : '客户姓名',width :100,align : 'center'},
                {field : 'idCrad',title : '证件号码',width : 180,align : 'center'},
	            {field : 'mobTel',title : '手机号码',width : 150,align : 'center'},
                {field : 'financingMgr',title : '理财经理',width : 100,align : 'center'},
                {field : 'fmPhone',title : '理财经理电话',width : 150,align : 'center'},
                {field : 'bankName',title : '开户行名称',width : 100,align : 'center'},
                {field : 'actNo',title : '开户行账号',width : 100,align : 'center'},
                {field : 'actName',title : '账户名称',width :100,align : 'center'},
                {field : 'fmSignDate',title : '理财经理签署日期',width :150,align : 'center'},
                {field : 'deptMgr',title : '部门主管',width :100,align : 'center'} 
	   ]],
	   toolbar:[{
		   text:'确定',
		   iconCls:'icon-add',
		   handler:makeSureSelect
	   }]
  });
}
function makeSureSelect(){
	var rows = $("#investOrderGrid1").datagrid("getSelections");
	if(rows.lenght <= 0){
		$.messager.alert("提示","请至少选择一条记录!","warning");
		return;
	}
	var ids = new Array();
	$.each(rows,function(i,row){
		ids.push(row.investOrderId);
	});
	ids = ids.join(",");
	$("#investOrderGrid").datagrid("reload",{investOrderIds:ids});
	$("#investOrderDialog").dialog("close");
}
</script>
<div style="margin: 1px;">
   <table id="investOrderGrid1"></table>
</div>
</html>