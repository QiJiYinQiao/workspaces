package com.bpms.action;

import java.util.List;

import org.apache.struts2.convention.annotation.Action;
import org.apache.struts2.convention.annotation.Namespace;
import org.springframework.beans.factory.annotation.Autowired;

import com.bpms.model.vo.InvestorAndInvestProductModel;
import com.bpms.service.InvestorSupervisionService;
import com.bpms.util.PageUtil;
import com.bpms.view.model.GridModel;
import com.opensymphony.xwork2.ModelDriven;

/**
 * @ClassName: InvestOrderAction 
 * @Description: 投资客户监管Action 
 * @author ZHANGJIAN    
 * @date 2015年8月05日 上午21:00:00
 */
@Namespace("/investorSupervision")
@Action(value = "investorSupervisionAction")
public class InvestorSupervisionAction extends BaseAction implements
		ModelDriven<InvestorAndInvestProductModel> {
	private static final long serialVersionUID = 6890862335576892873L;
	private InvestorAndInvestProductModel model = new InvestorAndInvestProductModel();;
	@Autowired     
	private InvestorSupervisionService investorSupervisionService;   //投资客户监管Service 		
	
	/**
	 * 获取 “到期客户明细” 信息。
	 * @return
	 */
	@SuppressWarnings("unchecked")
	public String findDueInvestorInfoDetails(){
		//分页信息
		PageUtil pageUtil = new PageUtil(page,rows);
	    GridModel gridModel = new GridModel();
	    Object[] resultArray = investorSupervisionService.findDueInvestorInfoDetails(pageUtil, this.model);
	    gridModel.setRows((List<InvestorAndInvestProductModel>)resultArray[0]);
	    gridModel.setTotal((Long)resultArray[1]);
		this.OutputJson2(gridModel);
		return null;
	}
	
	
	/**
	 * 获取 “返息客户” 详细信息。
	 * @return
	 */
	@SuppressWarnings("unchecked")	
	public String findReturnInterestInvestorInfoDetails(){		
		//分页信息
		PageUtil pageUtil = new PageUtil(page,rows);
	    GridModel gridModel = new GridModel();
	    Object[] resultArray = investorSupervisionService.findReturnInterestInvestorInfoDetails(pageUtil, this.model);
	    gridModel.setRows((List<InvestorAndInvestProductModel>)resultArray[0]);
	    gridModel.setTotal((Long)resultArray[1]);
		this.OutputJson2(gridModel);
		return null;				
	}
		
	
	public InvestorAndInvestProductModel getModel() {
		return this.model;
	}	
	
	public void setModel(InvestorAndInvestProductModel model) {
		this.model = model;
	}

}
