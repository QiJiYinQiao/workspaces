/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.59
 * Generated at: 2015-09-01 06:33:24 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.layout;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.util.*;

public final class script_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html;charset=utf-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\t\r\n");
      out.write("\t");

		String easyuiThemeName="metro";
		Cookie cookies[] =request.getCookies();
		if(cookies!=null&&cookies.length>0){
			for(Cookie cookie : cookies){
				if (cookie.getName().equals("cookiesColor")) {
					easyuiThemeName = cookie.getValue();
					break;
				}
			}
		}
	
      out.write("\r\n");
      out.write("\t<link rel=\"stylesheet\" type=\"text/css\" href=\"themes/");
      out.print(easyuiThemeName );
      out.write("/easyui.css\">\r\n");
      out.write("\t<script type=\"text/javascript\" src=\"js/xheditor/jquery-1.8.0.min.js\"></script>\r\n");
      out.write("\t<script type=\"text/javascript\" src=\"js/xheditor/xheditor-1.1.14-zh-cn.min.js\" charset=\"utf-8\"></script>\r\n");
      out.write("\t<link rel=\"stylesheet\" type=\"text/css\" href=\"themes/icon.css\">\r\n");
      out.write("\t<link rel=\"stylesheet\" type=\"text/css\" href=\"css/common.css\">\r\n");
      out.write("\t<script type=\"text/javascript\" src=\"js/jquery.easyui.min.js\"></script>\r\n");
      out.write("\t<script type=\"text/javascript\" src=\"js/easyui-lang-zh_CN.js\"></script>\r\n");
      out.write("\t<script type=\"text/javascript\" src=\"js/jqueryUtil.js\"></script>\r\n");
      out.write("\t<script type=\"text/javascript\" src=\"js/json2.js\"></script>\r\n");
      out.write("\t<script type=\"text/javascript\" src=\"js/ajaxfileupload.js\"></script>\r\n");
      out.write("\t<script type=\"text/javascript\" src=\"js/FusionCharts/FusionCharts.js\"></script>\r\n");
      out.write("\t<script type=\"text/javascript\" src=\"js/FusionCharts/FusionCharts.jqueryplugin.js\"></script>\r\n");
      out.write("\t<script type=\"text/javascript\" src=\"js/FusionCharts/FusionChartsExportComponent.js\"></script>\r\n");
      out.write("\t<script type=\"text/javascript\" src=\"js/validate.js\"></script>\r\n");
      out.write("\t<script type=\"text/javascript\" src=\"js/common.js\"></script>\r\n");
      out.write("\t<script type=\"text/javascript\" src=\"js/WdatePicker/WdatePicker.js\"></script>\r\n");
      out.write("\t<style type=\"text/css\">\r\n");
      out.write("\t\t.linkSpan{\r\n");
      out.write("\t\t  padding:5px;\r\n");
      out.write("\t\t  display:-moz-inline-box;\r\n");
      out.write("\t\t  display:inline-block;\r\n");
      out.write("\t\t  width:40%; \r\n");
      out.write("\t\t  text-align: center;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t.linkSpanS{\r\n");
      out.write("\t\t  padding:5px;\r\n");
      out.write("\t\t  display:-moz-inline-box;\r\n");
      out.write("\t\t  display:inline-block;\r\n");
      out.write("\t\t  width:10%; \r\n");
      out.write("\t\t  text-align: center;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\ta{text-decoration: none;}\r\n");
      out.write("\t\ta:hover {\r\n");
      out.write("\t\t color: #FF0000;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\r\n");
      out.write("\t</style>\r\n");
      out.write("\t<script type=\"text/javascript\">\r\n");
      out.write("\t\tvar attempData;\r\n");
      out.write("\t\t$(function(){\r\n");
      out.write("               $.ajax({\r\n");
      out.write("            \t   url:\"common/commonAction!findTextArr.action?codeMyid=attachment_type\",\r\n");
      out.write("            \t   type:\"post\",\r\n");
      out.write("            \t   success:function(data){\r\n");
      out.write("            \t\t   attempData = data;           \t\t   \r\n");
      out.write("            \t   }\r\n");
      out.write("               });\r\n");
      out.write("            });\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tvar j = 0;\r\n");
      out.write("\t\t//增加一条同类型附件\r\n");
      out.write("\t\tfunction addACredential(obj){\r\n");
      out.write("\t\t\tj++;\r\n");
      out.write("\t\t\tvar pDiv = obj.parentElement;\r\n");
      out.write("\t\t\tvar pDivId = pDiv.id.split(\"_\")[0];\r\n");
      out.write("\t\t\t$(pDiv.parentElement).append(\"<div id='\"+pDivId+\"_\"+j+\"'>\"+$(pDiv).html()+\"</div>\");\r\n");
      out.write("\t\t\t$(\"#\"+pDivId+\"_\"+j+\" input:first\").combobox({\r\n");
      out.write("\t\t\t\tvalueField : 'code',\r\n");
      out.write("\t\t\t\ttextField : 'text',\r\n");
      out.write("\t\t\t\tdata : attempData,\r\n");
      out.write("\t\t\t\teditable : false,\r\n");
      out.write("\t\t    });\r\n");
      out.write("\t\t\tvar fileId = $(\"#\"+pDivId+\"_\"+j+\" input:last\").attr(\"id\");\r\n");
      out.write("\t\t\t$(\"#\"+pDivId+\"_\"+j+\" input:last\").attr(\"id\",fileId+\"\"+j);\r\n");
      out.write("\t\t\t$(\"#\"+pDivId+\"_\"+j+\" span:eq(3)\").remove();\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t//删除一条同类型附件\r\n");
      out.write("\t\tfunction removeACredential(obj){\r\n");
      out.write("\t\t\tvar pDiv = obj.parentElement;\r\n");
      out.write("\t\t\tvar pDivid = pDiv.id;\r\n");
      out.write("\t\t\tvar ppDiv = $(obj).parent().parent();\r\n");
      out.write("\t\t\tif(ppDiv.children().length==1){\r\n");
      out.write("\t\t\t\t$.messager.alert(\"提示\",\"最后一条无法删除!\",\"info\");\r\n");
      out.write("\t\t\t\treturn false;\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\t$(pDiv).remove();\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t//删除一条附件\r\n");
      out.write("\t\tfunction deleteAttachment(obj,attId){\r\n");
      out.write("\t\t\t$.messager.confirm('提示','确认删除此项?',function(r){   \r\n");
      out.write("\t\t\t    if (r){   \r\n");
      out.write("\t\t\t    \t$.ajax({\r\n");
      out.write("\t\t\t\t    \t   url:'attachment/attachmentAction!delAttachment.action',\r\n");
      out.write("\t\t\t\t    \t   data:{\"attId\":attId},\r\n");
      out.write("\t\t\t\t    \t   type:\"post\",\r\n");
      out.write("\t\t\t\t    \t   success:function(data){\r\n");
      out.write("\t\t\t\t    \t\t   $.messager.alert(\"提示\",\"删除成功!\");\r\n");
      out.write("\t\t\t\t    \t\t   var pDiv = $(obj).parent().parent().children();\r\n");
      out.write("\t\t\t\t    \t\t   if(pDiv.length==3){\r\n");
      out.write("\t\t\t\t    \t\t\t   $(obj).parent().parent().empty();\r\n");
      out.write("\t\t\t\t    \t\t   }else if(pDiv.length==4){\r\n");
      out.write("\t\t\t\t    \t\t\t   $(obj).parent().parent().children(\"div:eq(1)\").empty();\r\n");
      out.write("\t\t\t\t    \t\t\t   $(obj).parent().remove();\r\n");
      out.write("\t\t\t\t    \t\t   }else{\r\n");
      out.write("\t\t\t\t    \t\t\t   $(obj).parent().remove();\r\n");
      out.write("\t\t\t\t    \t\t   }\r\n");
      out.write("\t\t\t\t    \t\t  \r\n");
      out.write("\t\t\t\t    \t   },\r\n");
      out.write("\t\t\t\t    \t   error:function(){\r\n");
      out.write("\t\t\t\t    \t\t   $.messager.alert(\"提示\",\"删除失败!\");\r\n");
      out.write("\t\t\t\t    \t   }\r\n");
      out.write("\t\t\t\t       });\r\n");
      out.write("\t\t\t    }   \r\n");
      out.write("\t\t\t});  \r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t//上传附件方法\r\n");
      out.write("\t\tfunction fileUploads(obj,loanOrderId){\r\n");
      out.write("\t\t\tif(loanOrderId==undefined){\r\n");
      out.write("\t\t\t\tloanOrderId = $row.loanOrderId;\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\tvar id = $(obj).parent().prev().children().attr(\"id\");\r\n");
      out.write("\t\t\tvar listId = $(obj).parent().prev().prev().attr(\"id\");\r\n");
      out.write("\t\t\tvar cDivClone = $(\"#\"+id).children(\"div:first\");\r\n");
      out.write("\t\t\tvar auditFormId = $(\"#\"+id).parent().parent().attr(\"id\");\r\n");
      out.write("\t\t\tvar auditId = $(\"#\"+auditFormId+\" input[name='auditId']\").val();\r\n");
      out.write("\t\t\tif(\"\"==auditId){\r\n");
      out.write("\t\t\t\t$.messager.alert(\"提示\",\"请填先填写稽核信息!\",\"info\");\r\n");
      out.write("\t\t\t\treturn false;\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\tvar cDiv = $(\"#\"+id).children();\r\n");
      out.write("\t\t\tvar att_types = \"\"; //附件类型\r\n");
      out.write("\t\t\tvar fileNames = \"\"; //附件名\r\n");
      out.write("\t\t\tvar fileIds = [];\t//附件id\r\n");
      out.write("\t\t\tfor(var i = 0 ; i < cDiv.length; i++){\r\n");
      out.write("\t\t\t\tvar cDivId = cDiv[i].id;\r\n");
      out.write("\t\t\t\tvar att_type = $(\"#\"+cDivId+\" input:first\").combobox(\"getValue\");\r\n");
      out.write("\t\t\t\tvar fileName = $(\"#\"+cDivId+\" input[name='fileName']\").val();\r\n");
      out.write("\t\t\t\tvar fileId = $(\"#\"+cDivId+\" input:last\").attr(\"id\");\r\n");
      out.write("\t\t\t\tvar fileValue = document.getElementById(fileId).value;\r\n");
      out.write("\t\t\t\tif(\"\"==att_type || \"\"==fileName || \"\"==fileValue){\r\n");
      out.write("\t\t\t\t\t$.messager.alert(\"提示\",\"请填写完整信息\",\"info\");\r\n");
      out.write("\t\t\t\t\treturn false;\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\tatt_types  += att_type + \",\";\r\n");
      out.write("\t\t\t\tfileNames += fileName + \",\";\r\n");
      out.write("\t\t\t\tfileIds[i] = fileId;\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\tparent.$.messager.progress({\r\n");
      out.write("\t\t\t\ttitle : '提示',\r\n");
      out.write("\t\t\t\ttext : '文件上传中，请稍后....'\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t\t$.ajaxFileUpload({\r\n");
      out.write("\t\t\t\turl:'attachment/attachmentAction!saveAttachment.action',\r\n");
      out.write("\t\t\t\tdata:{\"fileName\":fileNames,\"attType\":att_types,\"loanOrderId\" : loanOrderId,\"auditId\":auditId},\r\n");
      out.write("\t\t\t\tfileElementId:fileIds,\r\n");
      out.write("\t\t\t\tsecureuri:false,\r\n");
      out.write("\t\t\t\tdataType:'text',\r\n");
      out.write("\t\t\t\tasync : false,\r\n");
      out.write("\t\t\t\tsuccess:function(data,status){\r\n");
      out.write("\t\t\t\t\tparent.$.messager.progress('close');\r\n");
      out.write("\t\t\t\t\tloadAttachmentList(listId,auditId,loanOrderId);\r\n");
      out.write("\t\t\t\t\tdata = $.parseJSON(data);\r\n");
      out.write("\t\t\t\t\t$.messager.alert(\"提示\",data.message,\"info\");\r\n");
      out.write("\t\t\t\t\t$(\"#\"+id).empty().append(cDivClone);\r\n");
      out.write("\t\t\t\t\t$(cDivClone).children(\"a:first\").click();\r\n");
      out.write("\t\t\t\t\t$(cDivClone).remove();\r\n");
      out.write("\t\t\t\t},\r\n");
      out.write("\t\t\t\terror: function(){\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t//加载附件列表 \r\n");
      out.write("\t\tfunction loadAttachmentList(listId,auditId,loanOrderId){\r\n");
      out.write("\t\t\t$(\"#\"+listId).empty();\r\n");
      out.write("\t\t\tvar str = \"<div id='firstDiv\"+listId+\"' style='width:50%;height:30px;float: left;'><span class='linkSpan'>附件名称</span></a><span class='linkSpan'>附件类型</span><span class='linkSpanS'>操作</span></div><div id='secondDiv\"+listId+\"' style='width:50%;height:30px;float: left;'><span class='linkSpan'>附件名称</span></a><span class='linkSpan'>附件类型</span><span class='linkSpanS'>操作</span></div>\";\r\n");
      out.write("\t\t\t$(\"#\"+listId).append(str);\r\n");
      out.write("\t\t\t$.ajax({\r\n");
      out.write("\t\t\t\turl : \"attachment/attachmentAction!findAttachmentByULA.action\",\r\n");
      out.write("\t\t\t\tdata : {\"orderType\":\"borrowerOrder\",\"auditId\":auditId,\"loanOrderId\":loanOrderId},\r\n");
      out.write("\t\t\t\ttype : \"post\",\r\n");
      out.write("\t\t\t\tasync : false,\r\n");
      out.write("\t\t\t\tsuccess : function(data){\r\n");
      out.write("\t\t\t\t\tif(data.length==0){\r\n");
      out.write("\t\t\t\t\t\t$(\"#firstDiv\"+listId).empty();\r\n");
      out.write("\t\t\t\t\t\t$(\"#secondDiv\"+listId).empty();\r\n");
      out.write("\t\t\t\t\t}else if(data.length==1){\r\n");
      out.write("\t\t\t\t\t\t$(\"#secondDiv\"+listId).empty();\r\n");
      out.write("\t\t\t\t\t} \r\n");
      out.write("\t\t\t\t\tif(data){\r\n");
      out.write("\t\t\t\t\t\tvar attId;\r\n");
      out.write("\t\t\t\t\t\tvar attName;\r\n");
      out.write("\t\t\t\t\t\tvar attType;\r\n");
      out.write("\t\t\t\t\t\tvar linkStr = \"\";\r\n");
      out.write("\t\t\t\t\t\tvar j = 0;\r\n");
      out.write("\t\t\t\t\t\t$.each(data,function(i,item){\r\n");
      out.write("\t\t\t\t\t\t\tattId = data[i].attId;\r\n");
      out.write("\t\t\t\t\t\t\tattName = data[i].attName;\r\n");
      out.write("\t\t\t\t\t\t\tattType = data[i].attType;\r\n");
      out.write("\t\t\t\t\t\t\tattTypeName = data[i].attTypeName;\r\n");
      out.write("\t\t\t\t\t\t\tlinkStr = \"<div style='width:50%;height:30px;float: left;'><input type='hidden' name='attId' value='\"+attId+\"' /><a target='_blank' href='jsp/openoffice/documentView.jsp?attId=\"+attId+\"'><span class='linkSpan'>\"+attName+\"</span></a><span class='linkSpan'>\"+attTypeName+\"</span><a href='javascript:void(0);' class='attachBackLinkButton' onclick=\\\"deleteAttachment(this,'\"+attId+\"');\\\">删除</a><a href='javascript:void(0);' class='attachBackLinkButton' onclick=\\\"downloadAttachment('\"+attId+\"');\\\">　下载</a></div>\";\r\n");
      out.write("\t\t\t\t\t\t\t$(\"#\"+listId).append(linkStr);\r\n");
      out.write("\t\t\t\t\t\t});\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t},\r\n");
      out.write("\t\t\t\terror : function(){\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t}\t\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t//上传文件大小控制\r\n");
      out.write("\t\tfunction fileChange(target){  \r\n");
      out.write("\t\t    var ext,idx;   \r\n");
      out.write("\t\t    //检测上传文件的大小        \r\n");
      out.write("\t\t    var isIE = /msie/i.test(navigator.userAgent) && !window.opera;  \r\n");
      out.write("\t\t    var fileSize = 0;           \r\n");
      out.write("\t\t    if (isIE && !target.files){       \r\n");
      out.write("\t\t        var filePath = target.value;       \r\n");
      out.write("\t\t        var fileSystem = new ActiveXObject(\"Scripting.FileSystemObject\");          \r\n");
      out.write("\t\t        var file = fileSystem.GetFile (filePath);       \r\n");
      out.write("\t\t        fileSize = file.Size;\r\n");
      out.write("\t\t        //alert(\"wenjiandaxiaoweni\"+fileSize/1024+\"kb\");      \r\n");
      out.write("\t\t    } else {      \r\n");
      out.write("\t\t        fileSize = target.files[0].size;  \r\n");
      out.write("\t\t        //alert(\"wenjiandaxiaowei\"+fileSize/1024+\"kb\");        \r\n");
      out.write("\t\t    }     \r\n");
      out.write("\t\t\r\n");
      out.write("\t\t    var size = fileSize / 1024*1024;   \r\n");
      out.write("\t\t\r\n");
      out.write("\t\t    if(size>(1024*1024*15)){    \r\n");
      out.write("\t\t        //alert(\"文件大小不能超过15MB,请重新选择文件!\");  \r\n");
      out.write("\t\t        $.messager.alert(\"提示\",\"文件大小不能超过15MB,请重新选择文件!\",\"info\");\r\n");
      out.write("\t\t        $(target).val(\"\");\r\n");
      out.write("\t\t    }else{\r\n");
      out.write("\t\t    }    \r\n");
      out.write("\t\t}   \r\n");
      out.write("\t\t\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t// 下载附件\r\n");
      out.write("\t\tfunction downloadAttachment(attId){\r\n");
      out.write("\t\t\tdownFileByFormPost(\"attachment/attachmentAction!downloadAttachment.action\", {\"attId\":attId});\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\r\n");
      out.write("\t</script>\r\n");
      out.write("\t<style type=\"text/css\">\r\n");
      out.write("\t\tbody {\r\n");
      out.write("\t\t    font-family:helvetica,tahoma,verdana,sans-serif;\r\n");
      out.write("\t\t    font-size:13px;\r\n");
      out.write("\t\t    margin:0px 0px 0px 0px;\r\n");
      out.write("\t\t    padding:0px 0px 0px 0px;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t</style>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
