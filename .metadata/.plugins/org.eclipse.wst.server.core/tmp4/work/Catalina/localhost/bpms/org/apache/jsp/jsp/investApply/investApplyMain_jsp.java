/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.59
 * Generated at: 2016-02-22 05:32:44 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.jsp.investApply;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class investApplyMain_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write('\r');
      out.write('\n');

String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";

      out.write("\r\n");
      out.write("<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">\r\n");
      out.write("<html>\r\n");
      out.write("<head>\r\n");
      out.write("<base href=\"");
      out.print(basePath);
      out.write("\">\r\n");
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "../../layout/script.jsp", out, false);
      out.write("\r\n");
      out.write("<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\r\n");
      out.write("<title>投资申请</title>\r\n");
      out.write("</head>\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("\tvar provinceArr = jqueryUtil.getAreaTextArr(1);//获取省\r\n");
      out.write("\tvar relationshipArr =jqueryUtil.getTextArr(\"relationship_type\");//与本人关系\r\n");
      out.write("\tvar sexArr = jqueryUtil.getTextArr(\"gender_type\");//性别\r\n");
      out.write("\tvar degreeTypeArr = jqueryUtil.getTextArr(\"degree_type\");//学历\r\n");
      out.write("\tvar jobTypeArr = jqueryUtil.getTextArr(\"job_type\")//工作类型\r\n");
      out.write("\t$(function(){\r\n");
      out.write("\t\tcreateInvestApplyDataGrid();\r\n");
      out.write("\t});\r\n");
      out.write("\t\r\n");
      out.write("\t//工具\r\n");
      out.write("\tfunction getRowData(index) {\r\n");
      out.write("\t\tif (!$.isNumeric(index) || index < 0) {\r\n");
      out.write("\t\t\treturn undefined;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tvar rows = $(\"#investApplyListDataGrid\").datagrid(\"getRows\");\r\n");
      out.write("\t\treturn rows[index];\r\n");
      out.write("\t}\t\r\n");
      out.write("\r\n");
      out.write("\t// 自动调整页面高度\r\n");
      out.write(" \t$(window).resize(function(){  \r\n");
      out.write("            $(\"#investApplyListDataGrid\").datagrid({  \r\n");
      out.write("            \theight: $(window).height()-100,\r\n");
      out.write("            \twidth : 'auto'\r\n");
      out.write("            });                \r\n");
      out.write("        });\r\n");
      out.write(" \r\n");
      out.write("\t//渲染投资申请列表\r\n");
      out.write("\tfunction createInvestApplyDataGrid(){\r\n");
      out.write("\t\t$(\"#investApplyListDataGrid\").datagrid({\r\n");
      out.write("\t\t\t/* url:'investOrder/investOrderAction!findListByInvestorAndInvestOrder.action', */\r\n");
      out.write("\t\t\turl:'investApply/investApplyAction!findInvestApplyList.action',\r\n");
      out.write("\t\t\ttitle:'投资申请',\r\n");
      out.write("\t\t\twidth: 'auto',\r\n");
      out.write("\t\t\theight : $(window).height()-75,\r\n");
      out.write("\t\t\tpagination:true,\r\n");
      out.write("\t\t\trownumbers:true,\r\n");
      out.write("\t\t\tborder:false,\r\n");
      out.write("\t\t\tsingleSelect:true,\r\n");
      out.write("\t\t\tnowrap:true,//如果为true，则在同一行中显示数据。设置为true可以提高加载性能。\r\n");
      out.write("\t\t\tpageSize:30,\r\n");
      out.write("\t\t\tpageList:[10,20,30,40],\r\n");
      out.write("\t\t\tremoteSort:false,//定义是否从服务器对数据进行排序。\r\n");
      out.write("\t\t\tstriped:true,//是否显示斑马线\r\n");
      out.write("\t\t\tcolumns:[[\r\n");
      out.write("\t\t\t        {field : 'chName',title : '客户姓名', width : parseInt($(this).width() * 0.06) , align : 'center',\r\n");
      out.write("\t\t            \t  formatter: function(value, row, index){\r\n");
      out.write("\t\t            \t\t  return \"<a href=\\\"javascript:void(0)\\\" onclick=\\\"showInvestorView(\"+index+\")\\\">\"+value+\"</a>\";\r\n");
      out.write("\t\t            \t  }\t\t\t        \t\t\t\t        \r\n");
      out.write("\t\t\t        },\r\n");
      out.write("\t                {field : 'createDate',title : '投资申请生成日期', width : parseInt($(this).width() * 0.10)  ,align : 'center'},\t                \r\n");
      out.write("\t                {field : 'contractNo',title : '合同编号', width : parseInt($(this).width() * 0.06) ,align : 'center',\r\n");
      out.write("\t\t\t\t\t\t  formatter: function(value, row, index){\r\n");
      out.write("\t\t\t\t\t\t\t  if(row.contractNo == null || row.contractNo == \"\"){\t\t\t\t\t            \t\t\t  \r\n");
      out.write("\t\t\t\t\t    \t\treturn \"\";\t\t\t\t\t            \t\t\t  \t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t  }else{\t\t\t\t\t            \t\t\t  \r\n");
      out.write("\t\t\t\t\t\t\t  \treturn \"<a href=\\\"javascript:void(0)\\\" onclick=\\\"showInvestContractDetailsView(\"+index+\")\\\">\"+value+\"</a>\";\t\t\t\t\t            \t\t\t \r\n");
      out.write("\t\t\t\t\t\t\t  }\r\n");
      out.write("\t\t\t\t\t\t  }\t                \t\t                \r\n");
      out.write("\t                },\r\n");
      out.write("\t                {field : 'bankName',title : '开户行名称', width : parseInt($(this).width() * 0.07) ,align : 'center'},\r\n");
      out.write("\t                {field : 'actNo',title : '开户账号', width : parseInt($(this).width() * 0.06) ,align : 'center'},\r\n");
      out.write("\t                {field : 'actName',title : '账户名称', width : parseInt($(this).width() * 0.06) ,align : 'center'},\r\n");
      out.write("\t                {field : 'prodName',title : '理财产品', width : parseInt($(this).width() * 0.06) ,align : 'center',\r\n");
      out.write("\t\t            \t  formatter: function(value, row, index){\r\n");
      out.write("\t\t            \t\t  var result =\"\";\r\n");
      out.write("\t\t            \t\t  if(row.prodName == \"\" || row.prodName == \"undefined\" || row.prodName == null){\r\n");
      out.write("\t\t            \t\t\t  return result;  \r\n");
      out.write("\t\t            \t\t  }else{\t\t            \t\t\t  \r\n");
      out.write("\t\t            \t\t  \t  return result =\"<a href='javascript:void(0);' onclick='showInvestorAndInvestProductsDetailsView(\\\"\"+row.investOrderId+\"\\\");'>\"+row.prodName+\"</a>\";\r\n");
      out.write("\t\t            \t\t  }\t\t      \t\t\t\t  \t\t\t\t\t            \t\t  \r\n");
      out.write("\t\t            \t  }\t                \t\r\n");
      out.write("\t                },\r\n");
      out.write("\t                {field : 'investEdu',title : '投资金额', width : parseInt($(this).width() * 0.06) , align : 'center'},\r\n");
      out.write("\t                {field : 'beginDate',title : '投资开始日期', width : parseInt($(this).width() * 0.06) , align : 'center'},\r\n");
      out.write("\t                {field : 'interestDate',title : '计息日期', width : parseInt($(this).width() * 0.06) , align : 'center'},\r\n");
      out.write("\t                {field : 'aa',title : '操作', width : parseInt($(this).width() * 0.14) , align : 'center',\r\n");
      out.write("\t                \tformatter:function(value,row,index){\r\n");
      out.write("\t\t                \tif(row.processStatus == \"0\"){\r\n");
      out.write("/* \t\t                \t\t//在业务员提交投资申请之前，先判断客户的投资合同和理财产品等理财信息是否已经完善，\r\n");
      out.write("\t\t                \t\t//若理财信息不完善，则先完善信息，才能进行投资申请的提交。\r\n");
      out.write("\t\t                \t\t//(1)若理财信息不完善（比如没有填写合同信息或者没有选择理财产品），则先完善信息，之后才能进行投资申请的提交。\r\n");
      out.write("               \t    \t\t\tif((row.contractNo == null || row.contractNo == \"\") || (row.prodId ==null || row.prodId == \"\")){\r\n");
      out.write("             \t    \t\t\t\treturn \"<a href='javascript:void(0);' onclick='toDelete(\"+ index + \");'>删除</a>&nbsp;&nbsp;\"\t\t             \t    \t\t\t\t\r\n");
      out.write("             \t    \t       \t\t\t + \"<a href='javascript:void(0);' onclick='completeInvestOrderInfo(\"+ index + \");'>完善理财信息</a>&nbsp;&nbsp;\"\r\n");
      out.write("             \t    \t       \t\t\t + \"<a href='javascript:void(0);' onclick='sumitInvestOrder(\"+ index + \");'>提交投资申请</a>\";\r\n");
      out.write("             \t    \t\t\t}\r\n");
      out.write("             \t    \t\t\t//(2)若理财信息已经被完善，可以进行投资申请的提交。\r\n");
      out.write("             \t    \t\t\telse{\t\r\n");
      out.write("             \t    \t\t\t\treturn \"<a href='javascript:void(0);' onclick='toDelete(\"+ index + \");'>删除</a>&nbsp;&nbsp;\"\t\t             \t    \t\t\t\t\r\n");
      out.write("             \t    \t       \t\t     + \"<a href='javascript:void(0);' onclick='sumitInvestOrder(\"+ index + \");'>提交投资申请</a>\";\r\n");
      out.write("             \t    \t\t\t} */\r\n");
      out.write("\t\t                \t\t\t\t                \t\t\r\n");
      out.write("          \t    \t\t\t\treturn \"<a href='javascript:void(0);' onclick='toDelete(\"+ index + \");'>删除</a>&nbsp;&nbsp;\"\t\t             \t    \t\t\t\t\r\n");
      out.write("    \t    \t       \t\t\t     + \"<a href='javascript:void(0);' onclick='completeInvestOrderInfo(\"+ index + \");'>完善理财信息</a>&nbsp;&nbsp;\"\r\n");
      out.write("    \t    \t       \t\t\t     + \"<a href='javascript:void(0);' onclick='sumitInvestOrder(\"+ index + \");'>提交投资申请</a>\";     \t    \t       \t\t\t     \t\t                \t\t\r\n");
      out.write("\t\t                \t\t\r\n");
      out.write("\t\t             \t    }else if(row.processStatus == \"1\"){\r\n");
      out.write("\t\t             \t    \treturn \"<a href='javascript:void(0);' onclick='checkProcessImg(\"+ index + \");'>查看流程图</a>\";\r\n");
      out.write("\t\t             \t    }else{\r\n");
      out.write("\t\t             \t    \treturn \"<a href='javascript:void(0);' onclick='checkInvestOrderOpinions(\"+ index + \");'>查看审批意见</a>\";\r\n");
      out.write("\t\t             \t    }\r\n");
      out.write("\t                }}\r\n");
      out.write("\t                \r\n");
      out.write("\t\t   ]],\r\n");
      out.write("\t\t   toolbar:[{\r\n");
      out.write("\t\t\t   iconCls: 'icon-add',\r\n");
      out.write("\t\t\t   text:'新增投资申请',\r\n");
      out.write("\t\t\t   handler:toAddInvestApply\r\n");
      out.write("\t\t   }]\r\n");
      out.write("\t\t});\r\n");
      out.write("\t\t\r\n");
      out.write("\t}\r\n");
      out.write("\t/**\r\n");
      out.write("\t * 新增投资申请\r\n");
      out.write("\t */\r\n");
      out.write("\tfunction toAddInvestApply(){\r\n");
      out.write("\t\tcreateInvestordg();\r\n");
      out.write("\t\tcreateContacts();\r\n");
      out.write("\t\t$(\"#addDialog\").dialog(\"open\");\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("\t//查看该投资人的理财产品详情界面\r\n");
      out.write("\tfunction showInvestorAndInvestProductsDetailsView(investOrderId){\t\t\t\r\n");
      out.write("\t\t$('#investorAndInvestProductsDialog').dialog({    \r\n");
      out.write("\t\t    title: '理财产品详情',    \r\n");
      out.write("\t\t    width: 800,    \t\r\n");
      out.write("\t\t    height: 350,    \r\n");
      out.write("\t\t    closed: false,\r\n");
      out.write("\t\t    closable: true,\r\n");
      out.write("\t\t    cache: false,    \r\n");
      out.write("\t\t    href: 'investOrder/investOrderAction!findInvestorAndInvestProductsDetails.action?investOrderId='+investOrderId,    \r\n");
      out.write("\t\t    modal: true   \r\n");
      out.write("\t\t});  \t\t\t\t\t\t\t\t\t\t\t\t\t \t\t\t\t\t\r\n");
      out.write("\t}\t\t\r\n");
      out.write("\t\r\n");
      out.write("\t/**==完善客户及合同信息==*/\r\n");
      out.write("\tfunction completeInvestOrderInfo(index){\r\n");
      out.write("\t\tvar row = getRowData(index);\t\r\n");
      out.write("\t\tvar investOrderId = row.investOrderId;\r\n");
      out.write("\t\tvar row1; //用来接收下边通过Ajax请求查询订单详情时返回的数据。\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t//查询地址\r\n");
      out.write("\t\tvar addr=new Array();\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\turl:'investor/investorAction!findAddressById.action',\r\n");
      out.write("\t\t\tdata:'addressId='+row[\"commAddr\"],\r\n");
      out.write("\t\t\tdataType:'json',\r\n");
      out.write("\t\t\tasync : false,\r\n");
      out.write("\t\t\tsuccess:function(data){\r\n");
      out.write("\t\t\t\taddr=data;\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t}); \r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t//打开dialog\r\n");
      out.write("\t\t$(\"#dialog4CompleteInvestContractAndProductInfo\").dialog({\r\n");
      out.write("\t\t\ttitle : '完善理财客户合同信息',\r\n");
      out.write("\t\t\twidth : 1000,\r\n");
      out.write("\t\t\theight : 600,\r\n");
      out.write("\t\t\tmodal:true,\r\n");
      out.write("\t\t\t//href : \"jsp/investOrder/investOrderEditForm.jsp?investOrderId=\"+investOrderId,\r\n");
      out.write("\t\t\thref:'investorderAndProducts/investorderAndProductsAction!gotoCompleteOrderInfo.action?orderId='+investOrderId,\r\n");
      out.write("\t\t\tonLoad:function(){\r\n");
      out.write("\t\t\t\t/* 渲染基本客户信息 Tab页面*/\r\n");
      out.write("\t\t\t\tvar f = $(\"#basicInvestorClientInfoForm\");\r\n");
      out.write("\t\t\t\tif(addr!=null){\r\n");
      out.write("\t\t\t\t\trow[\"provinceId\"]=addr[\"provinceId\"];\r\n");
      out.write("\t\t\t\t\trow[\"cityId\"]=addr[\"cityId\"];\r\n");
      out.write("\t\t\t\t\trow[\"areaId\"]=addr[\"areaId\"]; \r\n");
      out.write("\t\t\t\t\trow[\"addressDetails\"]=addr[\"addrDetails\"];\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\tf.form(\"load\", row);\r\n");
      out.write("\t\t\t\trenderProvinceSelect('provinceId','cityId','areaId');\r\n");
      out.write("\t\t\t\t$(\"#provinceId\").combobox(\"setValue\",row.provinceId);\r\n");
      out.write("\t\t        $(\"#cityId\").combobox(\"setValue\",row.cityId);\r\n");
      out.write("\t\t        $(\"#areaId\").combobox(\"setValue\",row.areaId);\r\n");
      out.write("\t\t        \r\n");
      out.write("\t\t        /* 渲染紧急联系人 Tab页面*/\r\n");
      out.write("\t\t        //初始化紧急联系人列表\r\n");
      out.write("\t\t        initLinkPeopleGrid(row.investorId);\t  \r\n");
      out.write("\t\t        \r\n");
      out.write("\t\t        /* 渲染合同信息 Tab页面*/\r\n");
      out.write("\t\t        //查询InvestOrder订单详情\r\n");
      out.write("\t\t        $.ajax({\r\n");
      out.write("\t\t\t\t\turl:'investOrder/investOrderAction!findByInvestOrderId.action',\r\n");
      out.write("\t\t\t\t\tdata:'investOrderId='+investOrderId,\r\n");
      out.write("\t\t\t\t\tdataType:'json',\r\n");
      out.write("\t\t\t\t\tasync : false,\r\n");
      out.write("\t\t\t\t\tsuccess:function(data){\r\n");
      out.write("\t\t\t\t\t\trow1 = data;\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t})\r\n");
      out.write("\t\t\t\t$(\"#constractInfoForm\").form(\"load\",row1);\r\n");
      out.write("\t\t        //保存流程状态OrderStatus对象。\r\n");
      out.write("\t\t        if(row1.orderStatus != null){\t\t        \t\r\n");
      out.write("\t\t        \t$(\"#orderStatus\").val(row1.orderStatus.statusCode);\t\t        \r\n");
      out.write("\t\t        }else{\r\n");
      out.write("\t\t        \tconsole.info(\"未提交流程。流程状态OrderStatus对象为NULL。\");\r\n");
      out.write("\t\t\t        console.info(row1);\t\t        \r\n");
      out.write("\t\t        }\r\n");
      out.write("\t\t\t},\r\n");
      out.write("\t\t\tonClose:function(){\r\n");
      out.write("\t\t\t\t$(\"#investApplyListDataGrid\").datagrid('reload');\t\r\n");
      out.write("\t\t\t}\t\t\r\n");
      out.write("\t\t}); \r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("\t//查看投资人详细信息\r\n");
      out.write("\tfunction showInvestorView(index){\r\n");
      out.write("\t\tvar rows = $(\"#investApplyListDataGrid\").datagrid(\"getRows\");\r\n");
      out.write("\t\tvar row = rows[index];\r\n");
      out.write("\t\t$('#investorView').dialog({    \r\n");
      out.write("\t\t    title: '投资客户详情',    \r\n");
      out.write("\t\t    width: 800,    \r\n");
      out.write("\t\t    height: 550,    \r\n");
      out.write("\t\t    closed: false,    \r\n");
      out.write("\t\t    cache: false,    \r\n");
      out.write("\t\t    href: 'investor/investorAction!findInvestorByInvestorId.action?investorId='+row.investorId,    \r\n");
      out.write("\t\t    modal: true   \r\n");
      out.write("\t\t}); \r\n");
      out.write("\t}\t\r\n");
      out.write("\r\n");
      out.write("\t\r\n");
      out.write("\t// 查看该投资人的\"合同详情\"\r\n");
      out.write("\tfunction showInvestContractDetailsView(index){\r\n");
      out.write("\t\tvar row = this.getRowData(index);\r\n");
      out.write("\t\t$('#contractInfoDialog').dialog({    \r\n");
      out.write("\t\t    title: '合同详情',    \r\n");
      out.write("\t\t    width: 600,    \t\r\n");
      out.write("\t\t    height: 600,    \r\n");
      out.write("\t\t    closed: false,\r\n");
      out.write("\t\t    closable: true,\r\n");
      out.write("\t\t    cache: false,    \r\n");
      out.write("\t\t    href: 'investOrder/investOrderAction!findInvestorOrderContractDetails.action?investOrderId='+row.investOrderId,    \r\n");
      out.write("\t\t    modal: true   \r\n");
      out.write("\t\t});\t\t\t\t\r\n");
      out.write("\t}\t\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("\t/**\r\n");
      out.write("\t * 渲染investordg投资人列表\r\n");
      out.write("\t */\r\n");
      out.write("\tfunction createInvestordg(){\r\n");
      out.write("\t\t$(\"#investordg\").datagrid({\r\n");
      out.write("\t\t\turl:'investor/investorAction!findAllInvestor.action',\r\n");
      out.write("\t\t\twidth: 885,\r\n");
      out.write("\t\t\theight: 534,\r\n");
      out.write("\t\t\tpagination:true,\r\n");
      out.write("\t\t\trownumbers:true,\r\n");
      out.write("\t\t\tborder:false,\r\n");
      out.write("\t\t\tsingleSelect:true,\r\n");
      out.write("\t\t\tnowrap:true,//如果为true，则在同一行中显示数据。设置为true可以提高加载性能。\r\n");
      out.write("\t\t\tpageSize:20,\r\n");
      out.write("\t\t\tpageList:[10,20,30,40],\r\n");
      out.write("\t\t\tremoteSort:false,//定义是否从服务器对数据进行排序。\r\n");
      out.write("\t\t\tstriped:true,//是否显示斑马线\r\n");
      out.write("\t\t\t//单击事件，单击“投资人列表”中的某一行，将选中的某个投资人的investorId，\r\n");
      out.write("\t\t\t//传入到紧急联系人列表中，即$(\"#contactsdg\")这个页面中。\t\t\t\r\n");
      out.write("\t \t\tonClickRow:function(rowIndex,rowData){\r\n");
      out.write("\t\t\t\t$(\"#contactsdg\").datagrid(\"reload\",{investorId:rowData.investorId});\r\n");
      out.write("\t\t\t},\r\n");
      out.write("\t\t\tcolumns:[[\r\n");
      out.write("\t\t\t        {field : 'chName',title : '客户姓名',width :80,align : 'center'},\r\n");
      out.write("\t                {field : 'idNo',title : '证件号码',width : 120,align : 'center'},\r\n");
      out.write("\t\t            {field : 'genderType',title : '性别',width : 80,align : 'center',formatter:function(value,row,index){\r\n");
      out.write("\t\t            \treturn jqueryUtil.showText(value,sexArr);\r\n");
      out.write("\t\t            }},\r\n");
      out.write("\t                {field : 'mobileTel',title : '移动电话',width :150,align : 'center'},\r\n");
      out.write("\t                {field : 'industry',title : '所属行业',width : 150,align : 'center'},\r\n");
      out.write("\t                {field : 'jobType',title : '职业',width :80,align : 'center',formatter:function(value,row,index){\r\n");
      out.write("\t                \treturn jqueryUtil.showText(value,jobTypeArr);\r\n");
      out.write("\t                }},\r\n");
      out.write("\t                {field : 'yearsOfWork',title : '工作年限',width : 60,align : 'center'},\r\n");
      out.write("\t                {field : 'degreeType',title : '学历',width : 60,align : 'center',formatter:function(value,row,index){\r\n");
      out.write("\t                \treturn jqueryUtil.showText(value,degreeTypeArr);\r\n");
      out.write("\t                }},\r\n");
      out.write("\t                {field : 'birthday',title : '出生日期',width : 150,align : 'center'},\r\n");
      out.write("\t                {field : 'email',title : '邮箱',width : 150,align : 'center'}\r\n");
      out.write("\t\t   ]],\r\n");
      out.write("\t\t   toolbar:[{\r\n");
      out.write("\t\t\t   iconCls: 'icon-add',\r\n");
      out.write("\t\t\t   text:'确定',\r\n");
      out.write("\t\t\t   handler:toSave\r\n");
      out.write("\t\t   }]\r\n");
      out.write("\t\t});\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\t//渲染紧急联系人列表\r\n");
      out.write("\tfunction createContacts(){\r\n");
      out.write("\t\t$(\"#contactsdg\").datagrid({\r\n");
      out.write("\t\t\turl:'contacts/contactsAction!findInvestorContactListByInvestorId.action',\r\n");
      out.write("\t\t\twidth: 885,\r\n");
      out.write("\t\t\theight: 534,\r\n");
      out.write("\t\t\tpagination:true,\r\n");
      out.write("\t\t\trownumbers:true,\r\n");
      out.write("\t\t\tborder:false,\r\n");
      out.write("\t\t\tsingleSelect:false,\r\n");
      out.write("\t\t\tnowrap:true,//如果为true，则在同一行中显示数据。设置为true可以提高加载性能。\r\n");
      out.write("\t\t\tpageSize:20,\r\n");
      out.write("\t\t\tpageList:[10,20,30,40],\r\n");
      out.write("\t\t\tremoteSort:false,//定义是否从服务器对数据进行排序。\r\n");
      out.write("\t\t\tstriped:true,//是否显示斑马线\r\n");
      out.write("\t\t\tcolumns : [ [\r\n");
      out.write("\t\t\t             {field : 'chName',title : '姓名',width : 80,rowspan:2,align : 'center'},\r\n");
      out.write("\t\t\t             {field : 'relationship',title : '与本人关系',width : 80,rowspan:2,align : 'center',formatter:function(value,row,index){\r\n");
      out.write("\t\t\t            \t return jqueryUtil.showText(value,relationshipArr);\r\n");
      out.write("\t\t\t             }},\r\n");
      out.write("\t\t\t             {field : 'tel',title : '移动电话',width : 140,rowspan:2,align : 'center'},\r\n");
      out.write("\t\t\t             {field : 'idNo',title : '证件号码',width : 120,rowspan:2,align : 'center'},\r\n");
      out.write("\t\t\t             {title : '通讯地址',width : 340,colspan:4,align : 'center'}\r\n");
      out.write("\t\t\t],[\r\n");
      out.write("\t\t\t\t\t\t {field : 'compProvince',title : '省',width : 80,align : 'center',formatter:function(value,row,index){\r\n");
      out.write("\t\t\t\t\t\t\t return jqueryUtil.showText(value,provinceArr);\r\n");
      out.write("\t\t\t\t\t\t }},\r\n");
      out.write("\t\t\t\t\t\t {field : 'compCity',title : '市',width : 80,align : 'center',formatter:function(value,row,index){\r\n");
      out.write("\t\t\t\t\t\t\t var cityArr = jqueryUtil.getAreaTextArr(row.compProvince);\r\n");
      out.write("\t\t\t\t\t\t\t return jqueryUtil.showText(value,cityArr);\r\n");
      out.write("\t\t\t\t\t\t }},\r\n");
      out.write("\t\t\t\t\t\t {field : 'compArea',title : '县/区',width : 80,align : 'center',formatter:function(value,row,index){\r\n");
      out.write("\t\t\t\t\t\t\t var areaArr = jqueryUtil.getAreaTextArr(row.compCity);\r\n");
      out.write("\t\t\t\t\t\t\t return jqueryUtil.showText(value,areaArr);\r\n");
      out.write("\t\t\t\t\t\t }},\r\n");
      out.write("\t\t\t\t\t\t {field : 'compAddrDetails',title : '详细地址',width : 200,align : 'center'}\r\n");
      out.write("\t\t\t]]\r\n");
      out.write("\t\t})\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("\t//确定\r\n");
      out.write("\tfunction toSave(){\r\n");
      out.write("\t\tvar row = $(\"#investordg\").datagrid(\"getSelected\");\r\n");
      out.write("\t\tif(row == null){\r\n");
      out.write("\t\t\t$.messager.alert(\"提示\",\"请您选择一行记录!\",\"warning\");\r\n");
      out.write("\t\t\treturn;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t//发送ajax\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\ttype:'POST',\r\n");
      out.write("\t\t\turl:'investOrder/investOrderAction!saveInvestOrder.action',\r\n");
      out.write("\t\t\tdata:'investorId='+row.investorId+'&idCrad='+row.idNo+'&mobTel='+row.mobileTel+\"&investorName=\"+row.chName,\r\n");
      out.write("\t\t\tdataType:'JSON',\r\n");
      out.write("\t\t\tsuccess:function(iJson){\r\n");
      out.write("\t\t\t\tif(iJson.status){\r\n");
      out.write("\t\t\t\t\t$(\"#investApplyListDataGrid\").datagrid(\"reload\");//刷新列表\r\n");
      out.write("\t\t\t\t\t$(\"#addDialog\").dialog(\"close\");//关闭弹窗\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\tparent.$.messager.show({\r\n");
      out.write("\t\t\t\t\ttitle : iJson.title,\r\n");
      out.write("\t\t\t\t\tmsg : iJson.message,\r\n");
      out.write("\t\t\t\t\ttimeout : 4000 * 2\r\n");
      out.write("\t\t\t\t}); \r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("\t}\r\n");
      out.write("\t//删除\r\n");
      out.write("\tfunction toDelete(index){\r\n");
      out.write("\t\tvar row = getRowData(index);\r\n");
      out.write("\t\tif(row == null){\r\n");
      out.write("\t\t\t$.messager.alert(\"提示\",\"请选择一条记录执行删除!\",\"warning\");\r\n");
      out.write("\t\t\treturn;\r\n");
      out.write("\t\t}\t\t\r\n");
      out.write("    \t$.messager.confirm('删除', '执行删除后，数据将不可恢复,是否执行?', function(d) {\r\n");
      out.write("    \t\tif (d) {\r\n");
      out.write("    \t\t\t//发送ajax\r\n");
      out.write("    \t\t\t$.ajax({\r\n");
      out.write("    \t\t\t\ttype:'POST',\r\n");
      out.write("    \t\t\t\turl:'investOrder/investOrderAction!doDeleteInvestOrder.action',\r\n");
      out.write("    \t\t\t\tdata:'investOrderId='+row.investOrderId,\r\n");
      out.write("    \t\t\t\tdataType:'JSON',\r\n");
      out.write("    \t\t\t\tsuccess:function(iJson){\r\n");
      out.write("    \t\t\t\t\tif(iJson.status){\r\n");
      out.write("    \t\t\t\t\t\t$(\"#investApplyListDataGrid\").datagrid(\"deleteRow\",index);\r\n");
      out.write("    \t\t\t\t\t}\r\n");
      out.write("    \t\t\t\t\tparent.$.messager.show({\r\n");
      out.write("    \t\t\t\t\t\ttitle : iJson.title,\r\n");
      out.write("    \t\t\t\t\t\tmsg : iJson.message,\r\n");
      out.write("    \t\t\t\t\t\ttimeout : 4000 * 2\r\n");
      out.write("    \t\t\t\t\t}); \r\n");
      out.write("    \t\t\t\t}\r\n");
      out.write("    \t\t\t});\r\n");
      out.write("    \t\t}\r\n");
      out.write("    \t});\t\t\t\t\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\t//提交申请\r\n");
      out.write("\tfunction sumitInvestOrder(index){\r\n");
      out.write("\t\tvar row = this.getRowData(index);\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tif((row.contractNo == null || row.contractNo == \"\") || (row.prodId ==null || row.prodId == \"\")){\r\n");
      out.write("\t\t\tif(row.contractNo == null || row.contractNo == \"\"){\t\t\t\t\r\n");
      out.write("\t\t\t\t$.messager.alert('警告','合同信息没有完善，不能提交投资申请！');\r\n");
      out.write("\t\t\t\treturn false;\r\n");
      out.write("\t\t\t}else if(row.prodId ==null || row.prodId == \"\"){\t\t\t\t\r\n");
      out.write("\t\t\t\t$.messager.alert('警告','理财产品信息没有完善，不能提交投资申请！');\r\n");
      out.write("\t\t\t\treturn false;\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\t$.messager.confirm('确定','是否确定提交所选的数据吗？',\tfunction(flag) {\r\n");
      out.write("\t\t\t\tif(flag){\t\t\t\r\n");
      out.write("\t\t\t\t\t$.ajax({\r\n");
      out.write("\t\t\t\t\t\t/* url : \"investOrder/investOrderAction!saveStartProcessInstance.action\", */ \r\n");
      out.write("\t\t\t\t\t\turl : \"investApply/investApplyAction!saveStartProcessInstance.action\", \r\n");
      out.write("\t\t\t\t\t\tdata : {\"investOrderId\" : row.investOrderId},\r\n");
      out.write("\t\t\t\t\t\tsuccess : function(rsp) {\r\n");
      out.write("\t\t\t\t\t\t\tif(rsp.status){\r\n");
      out.write("\t\t\t\t\t\t\t\tparent.$.messager.show({\r\n");
      out.write("\t\t\t\t\t\t\t\t\ttitle : rsp.title,\r\n");
      out.write("\t\t\t\t\t\t\t\t\tmsg : rsp.message,\r\n");
      out.write("\t\t\t\t\t\t\t\t\ttimeout : 1000 * 2\r\n");
      out.write("\t\t\t\t\t\t\t\t});\r\n");
      out.write("\t\t\t\t\t\t\t\t$(\"#investApplyListDataGrid\").datagrid('reload');\r\n");
      out.write("\t\t\t\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\t\t\t\tparent.$.messager.alert(rsp.title,rsp.message,'error');\r\n");
      out.write("\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t});\r\n");
      out.write("\t\t\t\t}\t\t\r\n");
      out.write("\t\t\t});\t// End Of 是否确定提交所选的数据吗\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t}\t\t\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("\t//查看流程图\r\n");
      out.write("\tfunction checkProcessImg(index){\r\n");
      out.write("\t\tvar rows = $(\"#investApplyListDataGrid\").datagrid(\"getRows\");\r\n");
      out.write("\t\tvar rowm = rows[index];//获取本条数据\r\n");
      out.write("\t\tvar src = \"investApply/investApplyAction!checkWorkFlowImg.action?investOrderId=\" + rowm.investOrderId;\r\n");
      out.write("\t\t$('#imageDialog').dialog(\"open\");\r\n");
      out.write("\t\t$(\"#image\").attr(\"src\", src);\r\n");
      out.write("\t}\r\n");
      out.write("\tvar row;\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("\t//查看审批意见\r\n");
      out.write("\tfunction checkInvestOrderOpinions(index){\r\n");
      out.write("\t\tvar rows = $(\"#investApplyListDataGrid\").datagrid(\"getRows\");\r\n");
      out.write("\t\trow = rows[index];//获取本条数据\r\n");
      out.write("\t\t$('#OpinionsDialog').dialog({    \r\n");
      out.write("\t\t    title: '历史审查意见',    \r\n");
      out.write("\t\t    width: 800,    \r\n");
      out.write("\t\t    height: 500,    \r\n");
      out.write("\t\t    closed: false,    \r\n");
      out.write("\t\t    cache: false,    \r\n");
      out.write("\t\t    href: 'jsp/investOrder/optionsList.jsp',    \r\n");
      out.write("\t\t    modal: true   \r\n");
      out.write("\t\t});   \r\n");
      out.write("\t}\r\n");
      out.write("</script>\r\n");
      out.write("<body>\r\n");
      out.write("<div class=\"position\" style=\"margin-top: 5px;\">您当前所在位置： 业务管理  &gt; 财富业务管理  &gt; 投资申请</div>\r\n");
      out.write("   <div class=\"well well-small\" style=\"margin-left: 5px;margin-top: 5px\">\r\n");
      out.write("\t\t<span class=\"badge\">提示</span>\r\n");
      out.write("\t\t\t在此你可以新增<span class=\"label-info\"><strong>投资订单</strong></span>并开启流程!\r\n");
      out.write("   </div>\r\n");
      out.write("\r\n");
      out.write("   <!-- 投资申请管理数据列表 -->\r\n");
      out.write("   <table id=\"investApplyListDataGrid\" style=\"margin: 0px;padding: 0px;overflow: auto;\"></table>\r\n");
      out.write("\r\n");
      out.write("   <!-- 新增投资申请DIV区域 -->\r\n");
      out.write("   <div id=\"addDialog\" class=\"easyui-dialog\" style=\"width:900px;height:600px;\" title=\"新增投资申请\" data-options=\"modal:true,resizable:true,iconCls:'icon-add',closed: true\">\r\n");
      out.write("      <div id=\"tt\" class=\"easyui-tabs\" data-options=\"border:false\">   \r\n");
      out.write("\t    <div title=\"投资客户\">   \r\n");
      out.write("\t       <table id=\"investordg\" style=\"margin: 0px;padding: 0px;\"></table>\r\n");
      out.write("\t    </div>   \r\n");
      out.write("\t    <div title=\"紧急联系人\">   \r\n");
      out.write("\t       <table id=\"contactsdg\" style=\"margin: 0px;padding: 0px;\"></table>    \r\n");
      out.write("\t    </div>   \r\n");
      out.write("\t </div> \r\n");
      out.write("   </div>\r\n");
      out.write("   \r\n");
      out.write("\t<!-- 投资客户信息对话框区域 -->\r\n");
      out.write("\t<div id=\"investorView\"></div>   \r\n");
      out.write("\t\r\n");
      out.write("\t<!-- 合同详情信息对话框区域 -->\r\n");
      out.write("\t<div id=\"contractInfoDialog\"></div>\t\r\n");
      out.write("   \r\n");
      out.write("\t<!-- 理财产品详情对话框区域 -->\r\n");
      out.write("\t<div id=\"investorAndInvestProductsDialog\"></div>   \r\n");
      out.write("   \r\n");
      out.write("\t<!-- 流程图片弹框 -->\r\n");
      out.write("\t<div id=\"imageDialog\" class=\"easyui-dialog\" title=\"流程图片\"\r\n");
      out.write("\t\t\tdata-options=\"border:false,closed:true,fit:true\">\r\n");
      out.write("\t\t\t<img id=\"image\" src=\"\">\r\n");
      out.write("\t</div>\r\n");
      out.write("   \r\n");
      out.write("\t<!-- 完善合同信息对话框 -->\r\n");
      out.write("\t<div id=\"dialog4CompleteInvestContractAndProductInfo\"></div>\t\r\n");
      out.write("   \r\n");
      out.write("\t<!-- 审查意见 -->\r\n");
      out.write("\t<div id=\"OpinionsDialog\"></div>\r\n");
      out.write("\t\r\n");
      out.write("</body>\r\n");
      out.write("</html>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
